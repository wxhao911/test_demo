---
layout:     post
title:      "Java语言基础之变量及数据类型"
subtitle:   "HelloWorld"
date:       2013-06-11
author:     "Wxhao"
header-img: "img/post-bg/java.jpg"
catalog:    true
tags:
    - 基础知识 
    - java
    - JAVASE
---

### 1.变量的概述及格式
* A:什么是变量
	* 在程序执行的过程中，在某个范围内其值可以发生改变的量
* B:变量的定义格式
	* 数据类型 变量名 = 变量值;
* C:为什么要定义变量
	* 用来不断的存放同一类型的常量，并可以重复使用 

---
	
### 2.数据类型的概述和分类
* A:为什么有数据类型
	* Java语言是强类型语言，对于每一种数据都定义了明确的具体数据类型，在内存中分配了不同大小的内存空间
* B:Java中数据类型的分类
	* 基本数据类型
	* 引用数据类型 
		* 面向对象部分讲解 
* C:基本数据类型分类(4类8种) 
	* 整数型
		* byte 占一个字节  -128到127
		* short 占两个字  -2^15~2^15-1
		* int 占四个字节 -2^31~2^31-1
		* long 占八个字节 -2^63~2^63-1
	* 浮点型
		* float 占四个字节 -3.403E38~3.403E38  单精度
		* double 占八个字节-1.798E308~1.798E308 双精度
	* 字符型
		* char 占两个字节 0~65535
	* 布尔型
		* boolean   
        **boolean理论上是占八分之一个字节,因为一个开关就可以决定是true和false了,但是java中boolean类型没有明确指定他的大小**   

---
			
### 3.定义不同数据类型的变量
* 定义不同基本数据类型的变量，并输出
* 赋值时候注意float类型,long类型

```
//整数类型
byte b = 10; //占一个字节,-128到127
short s = 20;//占两个字节
int i= 30;//占四个字节,整形默认数据类型
long x = 8888888888L;//占八个字节,如果long类型加L进行标示最好大写,l(小L)和1(一)相似

//浮点类型
float f=12.3F;//占四个字节,必须加F
double d=33.4;//占八个字节,浮点默认数据类型,可以加D

//字符类型
char c='a';//占两个字节

//布尔类型
boolean bl=true;//没有明确指出大小
boolean bl=false;理论站8分之1byte
```

---

### 4.使用变量的注意事项
* a:作用域问题
	* 同一个区域不能使用相同的变量名 
* b:初始化值问题
	* 局部变量在使用之前必须赋值 
* c:一条语句可以定义几个变量
	* int a,b,c...; 

```
class test {
    public static void main(String[] args){
    int x = 10;
    //int x = 5;
    
    int y;//使用必须赋值,不使用可以不赋值
    //System.out.print(y)
    
    int a,b,c,d;
    
    a=10;
    b=2;
    c=1;
    d=100;
    
    
    }
}
```

---

### 5.数据类型转换之隐式转换
* A:代码演示
	* a:int + int
	* b:byte + int 

```
int x=3;
int b=4;
x = x + b ;
System.out.print(x);//7
```

* B:Java中的默认转换规则
	* 取值范围小的数据类型与取值范围大的数据类型进行运算,会先将小的数据类型提升为大的,再运算 

![数据类型转换之隐式转换](http://wxhao2.duapp.com/blog/post-in/20130611/sjlxzhyszh.png)

---


### 6.数据类型转换之强制转换
* A:强制转换问题
	* int a = 10;
	* byte b = 20; 
	* b = a + b;
```
int x=3;
int b=4;
b = x + b ;
System.out.print(x);//报错,损失精度
```
* B:强制转换的格式
	* b = (byte)(a + b); 
```
int x=3;
int b=4;
(byte)b = x + b ;
System.out.print(x);//7
```
![数据类型转换之强制转换](http://wxhao2.duapp.com/blog/post-in/20130611/sjlxzhqzzh.png)

* C:强制转换的注意事项
	* 如果超出了被赋值的数据类型的取值范围得到的结果会与你期望的结果不同 

```
//00000000 00000000 00000000 10000010 130二进制,强转丢失精度
//10000010 -126补码,计算机用补码计算
//00000001 减一求反码(上面的减此行的1)
//10000001 -126反码
//11111110 -126原码
byte b = (byte)(126 + 4);
System.out.print(b);//-126

//00000000 00000000 00000001 00101100 300的二进制,强转丢精度
//00101100 
byte b = (byte)300;
System.out.print(b);//44
```

---

### 7.面试题之变量相加和常量相加的区别

* 面试题:看下面的程序是否有问题，如果有问题，请指出并说明理由。
```
	byte b1 = 3;
	byte b2 = 4;
	byte b3 = b1 + b2;
	sysout//报错,可能会损失精度
```
* 从两方面去回答这个题
	1. b1和b2是两个变量,变量里面存储的值都是变化的,所以在程序运行中(编译阶段无法判断)JVM是无法判断里面具体的值
	2. byte类型(或者short,char)的变量在进行运算的时候,会自动类型提升为int类型 

* 补充

```
	byte b3 = 3 + 4;
	//byte b4 = 7;java编译有常量优化
	sysout//7
```

* 3和4都是常量,java有常量优化机制,就是在编译的的时候直接把3和4的结果赋值给b4了 

---

### 8.long与float的取值范围谁大谁小
* 进行混合运算的时候,byte,short,char不会相互转换,都会自动类型提升为int类型,其他类型进行混合运算的是小的数据类型提升为大的
	* byte,short,char -- int -- long -- float -- double
	
	* long: 8个字节
	* float：4个字节
	* IEEE754
	* 4个字节是32个二进制位
	* 1位是符号位
	* 8位是指数位
	* 00000000   11111111
	* 0到255
	* 1到254
	* -126到127
	* 23位是尾数位
	* 每个指数位减去127
	
	* A:它们底层的存储结构不同。
	* B:float表示的数据范围比long的范围要大
		* long：2^63-1
		* float：3.4*10^38 > 2*10^38 > 2*8^38 = 2*2^3^38 = 2*2^114 > 2^63-1

* 代码演示


```
float f = 12.3f;
long x = 12345;
f = x;  //隐式转换
sysout//12345.0

x=f;
sysout//报错,可能损失精度

/*
float 占4和字节

IEEE 754
规定:32个二进制位
规定:1位符号位
规定:8位代表指数位(多少次幂)
    00000000 - 11111111
    0 - 255
    
规定:指数位0代表0
规定:指数位255代表无穷大

    剩下 1 - 254 指数位都减去127
    即:2^-126 - 2^127
    
规定:23位代表尾数位(小数,"."后面的数,决定不了大小,最大无限接近1)

*/
```

[IEEE 754文档](http://pan.baidu.com/s/1ge6Ljwf)

---
		
### 9.字符和字符串参与运算
* A:演示


```
	System.out.println('a');//a
	System.out.println('a'+1);//98 为什么a字符提升为int为97,因为有ASCII码表
	System.out.println((byte)('a'+1));//b
	System.out.println("hello"+'a'+1);//任何数据类型用+号与字符串相连接都会产生新的字符串
	System.out.println('a'+1+"hello");//JAVA优化机制
	
```	

* 通过看结果知道'a'的值是多少,由此引出ASCII码表
    * [ASCII码表完整版](http://pan.baidu.com/s/1ge6Ljwf)
* B:ASCII码表的概述
	* 记住三个值：
		* '0'  48
		* 'A'  65
		* 'a'  97
* C:+在有字符串参与中被称为字符串连接符

```
	System.out.println("5+5="+5+5);//5+5=55
	System.out.println("5+5="+(5+5));//括号提升优先级
```	

---

### 10.char数据类型
* A:char c = 97;	0到65535
* B:Java语言中的字符char可以存储一个中文汉字吗?为什么呢?
	* 可以。因为Java语言采用的是Unicode编码。Unicode编码中的每个字符占用两个字节。中文也是占的两个字节
	* 所以，Java中的字符可以存储一个中文汉字

```
char c='a';

char c1=97;//0-65535,与上面输出相同

```
![ASCII](http://wxhao2.duapp.com/blog/post-in/20130611/ASCII.jpg)

---


